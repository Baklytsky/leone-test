{% comment %}
{% render 'picture-metafields', image_desk: , image_mobile: , class_name: , image_attr: , %}
{% endcomment %}

{%- assign alt = image_desk.alt -%}
{%- assign image_mobile = image_mobile | default: image_desk -%}
{%- assign img_desk_url = image_desk.cloudinary_src | append: 'w_1,h_1' -%}

<picture class="{{ class_name }}">
  <source data-srcset="{{ image_mobile.cloudinary_src | append: 'w_360' }} 360w" media="(max-width: 360px)"/>
  <source data-srcset="{{ image_mobile.cloudinary_src | append: 'w_540' }} 540w" media="(max-width: 540px)"/>
  <source data-srcset="{{ image_mobile.cloudinary_src | append: 'w_720' }} 720w" media="(max-width: 767px)"/>
  <source data-srcset="{{ image_desk.cloudinary_src | append: 'w_900' }} 900w" media="(max-width: 900px)"/>
  <source data-srcset="{{ image_desk.cloudinary_src | append: 'w_1080' }} 1080w" media="(max-width: 1080px)"/>
  <source data-srcset="{{ image_desk.cloudinary_src | append: 'w_1296' }} 1296w" media="(max-width: 1296px)"/>
  <source data-srcset="{{ image_desk.cloudinary_src | append: 'w_1512' }} 1512w" media="(max-width: 1512px)"/>
  <source data-srcset="{{ image_desk.cloudinary_src | append: 'w_1728' }} 1728w"/>
  <img class="lazyload"
       data-sizes="auto"
       data-src="{{ img_desk_url }}"
       data-parent-fit="contain"
       alt="{{ alt }}"
        {{ image_attr }} />
</picture>